---
layout: base.njk
title: bridge - creative mentorship
---

<div class="admin-link">
  <a href="/admin/">admin</a>
</div>

<h1>bridge</h1>
<p>get help from experienced creatives. give help when you can. anyone can become a mentor - just add yourself.</p>
<p><a href="/admin/">+ post request / add mentor</a></p>

<div class="metrics">
  {% for metric in collections.liveMetrics %}{{ metric.mentorCount }} mentors available - {{ metric.bridgeCount }} bridges crossed{% endfor %}
</div>

<h2>open requests</h2>

{% for request in collections.openRequests %}
<div class="request">
  <div class="row">
    <span class="tag">please:</span> {{ request.data.need }}
  </div>
  
  <div class="row">
    <span class="tag">role:</span> {{ request.data.role }}
  </div>
  
  <div class="row">
    <span class="tag">who:</span> {{ request.data.name | maskName }} [name revealed after connection]
  </div>
  
  <div class="row">
    <span class="tag">location:</span> {{ request.data.location }}
  </div>
  
  {% if request.data.looking_for %}
  <div class="row">
    <span class="tag">looking for:</span> {{ request.data.looking_for }}
  </div>
  {% endif %}
  
  <div class="row">
    <span class="tag">expires:</span> {{ request.data.expires | timeLeft }}
  </div>
  
  {% if request.templateContent %}
  <div class="row">
    {{ request.templateContent | safe }}
  </div>
  {% endif %}
  
  <button class="volunteer-btn" onclick="openVolunteerForm(this, '{{ request.data.name }}', '{{ request.data.email }}')">
    volunteer to help
  </button>
</div>
{% endfor %}

{% if collections.openRequests.length === 0 %}
<div class="request">
  no open requests right now. post the first one!
</div>
{% endif %}

<!-- Simple volunteer popup -->
<div id="volunteerPopup" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:1000;">
  <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:white; padding:30px; border-radius:8px; max-width:400px; width:90%;">
    <h3>Volunteer to Help</h3>
    <div id="connectionStatus" style="display:none; padding:10px; margin-bottom:15px; border-radius:4px;"></div>
    
    <!-- Formspree Form -->
    <form id="volunteerForm" action="https://formspree.io/f/xblyqlay" method="POST">
      <div style="margin-bottom:15px;">
        <label>Your name:</label><br>
        <input type="text" name="volunteer_name" required style="width:100%; padding:8px; margin-top:5px;">
      </div>
      <div style="margin-bottom:15px;">
        <label>Your email:</label><br>
        <input type="email" name="volunteer_email" required style="width:100%; padding:8px; margin-top:5px;">
      </div>
      <div style="margin-bottom:15px;">
        <label>Your expertise/specialty:</label><br>
        <input type="text" name="volunteer_expertise" required style="width:100%; padding:8px; margin-top:5px;" placeholder="e.g. UX Design, Copywriting, Creative Direction">
      </div>
      <div style="margin-bottom:15px;">
        <label>Quick note (optional):</label><br>
        <textarea name="volunteer_note" style="width:100%; padding:8px; margin-top:5px; height:60px;" placeholder="Brief intro or how you can help..."></textarea>
      </div>
      
      <!-- Hidden fields for request data -->
      <input type="hidden" name="request_need" value="">
      <input type="hidden" name="request_role" value="">
      <input type="hidden" name="request_location" value="">
      <input type="hidden" name="mentee_name" value="">
      <input type="hidden" name="mentee_email" value="">
      
      <!-- Email subject for better organization -->
      <input type="hidden" name="_subject" value="New volunteer connection from Bridge">
      
      <!-- Send copy to the mentee as well -->
      <input type="hidden" name="_cc" value="">
      
      <button type="submit" style="background:#333; color:white; padding:10px 20px; border:none; border-radius:4px; margin-right:10px;">Send Connection</button>
      <button type="button" onclick="closeVolunteerForm()" style="background:#ccc; color:#333; padding:10px 20px; border:none; border-radius:4px;">Cancel</button>
    </form>
    
    <div class="privacy-notice" style="margin-top:20px; font-size:12px; color:#666;">
      connection sent via email. both parties get each other's contact info to connect directly.
    </div>
  </div>
</div>

<footer>
  creatives helping creatives. post requests for help. volunteer when you can. direct email connections for focused help.<br>
  built on netlify + eleventy
</footer>

<script>
function openVolunteerForm(buttonElement, menteeName, menteeEmail) {
  // Get request data from the DOM
  const requestDiv = buttonElement.closest('.request');
  const need = requestDiv.querySelector('.row:nth-child(1)').textContent.replace('please:', '').trim();
  const role = requestDiv.querySelector('.row:nth-child(2)').textContent.replace('role:', '').trim();
  const location = requestDiv.querySelector('.row:nth-child(4)').textContent.replace('location:', '').trim();
  
  // Fill hidden fields
  const form = document.getElementById('volunteerForm');
  form.querySelector('input[name="request_need"]').value = need;
  form.querySelector('input[name="request_role"]').value = role;
  form.querySelector('input[name="request_location"]').value = location;
  form.querySelector('input[name="mentee_name"]').value = menteeName;
  form.querySelector('input[name="mentee_email"]').value = menteeEmail;
  form.querySelector('input[name="_cc"]').value = menteeEmail; // CC the mentee
  
  // Show the popup
  document.getElementById('volunteerPopup').style.display = 'block';
}

function closeVolunteerForm() {
  document.getElementById('volunteerPopup').style.display = 'none';
  document.getElementById('volunteerForm').reset();
  document.getElementById('connectionStatus').style.display = 'none';
}

// Formspree handles everything automatically now!
// Just show success message after form submission
document.getElementById('volunteerForm').addEventListener('submit', function(e) {
  const submitBtn = this.querySelector('button[type="submit"]');
  submitBtn.textContent = 'Sending...';
  submitBtn.disabled = true;
  
  // Form will submit normally to Formspree
  // User will be redirected to Formspree success page
});

// Close popup when clicking outside
document.getElementById('volunteerPopup').addEventListener('click', function(e) {
  if (e.target === this) {
    closeVolunteerForm();
  }
});
</script>
